{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useState, useEffect, useContext } from 'react';\nimport { UserAuthStatusContext, UserAuthDispatchContext } from '../../App';\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Logout = props => {\n  _s();\n\n  const userAuth = useContext(UserAuthStatusContext);\n  const userDispatch = useContext(UserAuthDispatchContext); // handle user form login request \n\n  const _handleUserLogout = async () => {\n    try {\n      const API_ENDPOINT = 'http://localhost:4000/users/logout/user';\n      const response = await fetch(API_ENDPOINT, {\n        method: 'PUT',\n        body: JSON.stringify({\n          _id: userAuth._id\n        }),\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      });\n      const data = await response.json();\n\n      if (response.status === 200) {\n        // localStorage.setItem('BookStopUser', data._id );\n        localStorage.removeItem('BookStopUser'); // localStorage.getItem('BookStopUser');\n\n        userDispatch({\n          \"type\": \"Login\",\n          \"login\": data\n        });\n      }\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  useEffect(() => {\n    _handleUserLogout(); // eslint-disable-next-line\n\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false);\n};\n\n_s(Logout, \"4xP31nMuCzyCrQqEYObtigSexE4=\");\n\n_c = Logout;\nexport default Logout;\n\nvar _c;\n\n$RefreshReg$(_c, \"Logout\");","map":{"version":3,"sources":["/Users/adina.weinberg/Desktop/seir-angelica/projects/project-3/frontend/react-bookstop/src/components/Logout/index.js"],"names":["useState","useEffect","useContext","UserAuthStatusContext","UserAuthDispatchContext","Logout","props","userAuth","userDispatch","_handleUserLogout","API_ENDPOINT","response","fetch","method","body","JSON","stringify","_id","headers","data","json","status","localStorage","removeItem","err","console","log"],"mappings":";;AAAA,SAASA,QAAT,EAAmBC,SAAnB,EAA8BC,UAA9B,QAAgD,OAAhD;AACA,SAASC,qBAAT,EAAgCC,uBAAhC,QAA+D,WAA/D;;;;AAEA,MAAMC,MAAM,GAAIC,KAAD,IAAW;AAAA;;AAEtB,QAAMC,QAAQ,GAAGL,UAAU,CAACC,qBAAD,CAA3B;AACA,QAAMK,YAAY,GAAGN,UAAU,CAACE,uBAAD,CAA/B,CAHsB,CAKtB;;AACA,QAAMK,iBAAiB,GAAG,YAAY;AAElC,QAAI;AACA,YAAMC,YAAY,GAAG,yCAArB;AACA,YAAMC,QAAQ,GAAG,MAAMC,KAAK,CAACF,YAAD,EAAe;AACvCG,QAAAA,MAAM,EAAE,KAD+B;AAEvCC,QAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AAACC,UAAAA,GAAG,EAAEV,QAAQ,CAACU;AAAf,SAAf,CAFiC;AAGvCC,QAAAA,OAAO,EAAE;AACL,0BAAgB;AADX;AAH8B,OAAf,CAA5B;AAOA,YAAMC,IAAI,GAAG,MAAMR,QAAQ,CAACS,IAAT,EAAnB;;AACA,UAAIT,QAAQ,CAACU,MAAT,KAAoB,GAAxB,EAA6B;AACzB;AACAC,QAAAA,YAAY,CAACC,UAAb,CAAwB,cAAxB,EAFyB,CAGzB;;AACAf,QAAAA,YAAY,CAAC;AAAC,kBAAO,OAAR;AAAiB,mBAASW;AAA1B,SAAD,CAAZ;AACH;AACJ,KAhBD,CAgBE,OAAOK,GAAP,EAAY;AACVC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACH;AACJ,GArBD;;AAuBAvB,EAAAA,SAAS,CAAE,MAAM;AACbQ,IAAAA,iBAAiB,GADJ,CAEb;;AACH,GAHQ,EAGN,EAHM,CAAT;AAKA,sBACI,qCADJ;AAIH,CAtCD;;GAAMJ,M;;KAAAA,M;AAwCN,eAAeA,MAAf","sourcesContent":["import { useState, useEffect, useContext } from 'react';\nimport { UserAuthStatusContext, UserAuthDispatchContext } from '../../App';\n\nconst Logout = (props) => {\n\n    const userAuth = useContext(UserAuthStatusContext);\n    const userDispatch = useContext(UserAuthDispatchContext);\n \n    // handle user form login request \n    const _handleUserLogout = async () => {\n        \n        try {\n            const API_ENDPOINT = 'http://localhost:4000/users/logout/user';\n            const response = await fetch(API_ENDPOINT, {\n                method: 'PUT',\n                body: JSON.stringify({_id: userAuth._id}),\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n            });     \n            const data = await response.json();\n            if (response.status === 200) {\n                // localStorage.setItem('BookStopUser', data._id );\n                localStorage.removeItem('BookStopUser');\n                // localStorage.getItem('BookStopUser');\n                userDispatch({\"type\":\"Login\", \"login\": data} );\n            }\n        } catch (err) {\n            console.log(err)\n        }\n    };\n\n    useEffect( () => {\n        _handleUserLogout();\n        // eslint-disable-next-line\n    }, []);\n\n    return (\n        <>\n        </>\n    )\n};\n\nexport default Logout;\n\n"]},"metadata":{},"sourceType":"module"}